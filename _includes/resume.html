{% comment %}
  Each file including this resume template should set the following:
    skills
    projects
    experience
    education
{% endcomment %}

<header id="resume-header">
  <h1 class="resume-header-text">{{ name }}</h1>
</header>

<div id="resume-body">
  <table id="skills">
    <colgroup>
      <col class="lw-seg-12-3"></col>
      <col class="lw-seg-12-9"></col>
    </colgroup>

    <thead>
      <tr><th colspan="2">Skills</th></tr>
    </thead>

    {% for category in skills %}
      <tbody>
        <tr>
          <th>{{ category.name }}</th>
          <td>
            <ul class="lw-bar-12">
              {% for skill in category.content %}
                <li class="lw-seg-12-4">{{ skill }}</li>
              {% endfor %}
            </ul>
          </td>
        </tr>
      </tbody>
    {% endfor %}
  </table>

  <table id="projects">
    <colgroup>
      <col class="lw-seg-12-3"></col>
      <col class="lw-seg-12-6"></col>
      <col class="lw-seg-12-3"></col>
    </colgroup>

    <thead>
      <tr><th colspan="3">Projects</th></tr>
    </thead>

    {% for project in projects limit: project_limit %}
    <tbody>
      <tr>
        <th {% if project.gh_repo_name %}class="gh-project-cell"{% endif %}>
          <a href="{{ project.url | prepend: site.baseurl }}">
          {{ project.title }}</a>
          {% if project.gh_repo_name %}
            <a class="icon icon--github" href="https://github.com/{{ site.github_username }}/{{ project.gh_repo_name }}">{% include icon-github.svg %}</a>
          {% endif %}
        </th>

        <td>{{ project.excerpt }}</td>

        <td>
          <ul class="lw-bar-12">
            {% for language in project.languages %}
              <li class="lw-seg-12-6">{{ language }}</li>
            {% endfor %}
            {% for technology in project.technologies %}
              <li class="lw-seg-12-6">{{ technology }}</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
    </tbody>
    {% endfor %}
  </table>

  <table id="experience">
    <colgroup>
      <col class="lw-seg-12-3"></col>
      <col class="lw-seg-12-6"></col>
      <col class="lw-seg-12-3"></col>
    </colgroup>

    <thead>
      <tr><th colspan="3">Experience</th></tr>
    </thead>

    {% for job in experience %}
      <tbody>
        <tr>
          <th rowspan="2">
            <a {% if job.website %}href="{{ job.website }}"{% endif %}>{{ job.employer }}</a>
          </th>
          <td class="center-text">{{ job.position }}</td>
          <td class="center-text">{{ job.start | date: "%m/%Y" }} - {{ job.end | date: "%m/%Y" | default: "Present" }}</td>
        </tr>

        <tr>
          <td {% unless job.skills %}colspan="2"{% endunless %} class="center-text">
            {{ job.description }}
          </td>
          {% if job.skills %}
            <td>
              <ul class="lw-bar-12">
                {% for skill in job.skills %}
                  <li class="lw-seg-12-6">{{ skill }}</li>
                {% endfor %}
              </ul>
            </td>
          {% endif %}
        </tr>
      </tbody>
    {% endfor %}
  </table>

  <table id="education">
    <colgroup>
      <col class="lw-seg-12-3"></col>
      <col class="lw-seg-12-6"></col>
      <col class="lw-seg-12-3"></col>
    </colgroup>

    <thead>
      <tr><th colspan="3">Education</th></tr>
    </thead>

    {% for school in education %}
      <tbody>
        <tr>
          <th {% if school.courses %}rowspan="2"{% endif %}>
            {{ school.school }}
          </th>
          <td class="center-text">
              {{ school.qualification }} in {{ school.fields | join: ", " }}
              {% if school.gpa %}- GPA: {{ school.gpa }}{% endif %}
          </td>
          <td class="center-text">{{ school.attendance.start | date: "%m/%Y" }} - {{ school.attendance.end | date: "%m/%Y" }}</td>
        </tr>

        {% if school.courses %}
          <tr>
            <td colspan="2">
              <h4>Courses</h4>
              <ul class="lw-bar-12">
                {% for course in school.courses %}
                  <li class="lw-seg-12-6">{{ course }}</li>
                {% endfor %}
              </ul>
            </td>
          </tr>
        {% endif %}
      </tbody>
    {% endfor %}
  </table>
</div>

{% assign resume = site.data.resume %}

<header id="resume-header">
  <h1 class="center-text">{{ resume.name }}</h1>
</header>

<div id="resume-body">
  <table id="skills">
    <colgroup>
      <col class="col-small"></col>
      <col></col>
    </colgroup>

    <thead>
      <tr><th colspan="2">Skills</th></tr>
    </thead>

    {% for category in resume.skills %}
      <tbody>
        <tr>
          <th>{{ category.name }}</th>
          <td>
            <ul>
              {% for skill in category.content %}
                <li class="lw-seg-12-4">{{ skill }}</li>
              {% endfor %}
            </ul>
          </td>
        </tr>
      </tbody>
    {% endfor %}
  </table>

  <table id="projects">
    <colgroup>
      <col class="col-small"></col>
      <col></col>
      <col class="col-small"></col>
    </colgroup>

    <thead>
      <tr><th colspan="3">Projects</th></tr>
    </thead>

    {% assign projects = site.projects | sort: 'sort_index' %}
    {% for project in projects %}
    <tbody>
      <tr>
        <th {% if project.gh_repo_name %}class="gh-project-cell"{% endif %}>
          <a class="internal-link" href="{{ project.url | prepend: site.baseurl }}">
          {{ project.title }}</a>
          {% if project.gh_repo_name %}
            <a class="icon icon--github" href="https://github.com/{{ site.github_username }}/{{ project.gh_repo_name }}">{% include icon-github.svg %}</a>
          {% endif %}
        </th>

        <td>{{ project.excerpt }}</td>

        <td>
          <ul>
            {% for language in project.languages %}
              <li class="lw-seg-12-6">{{ language }}</li>
            {% endfor %}
            {% for technology in project.technologies %}
              <li class="lw-seg-12-6">{{ technology }}</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
    </tbody>
    {% endfor %}
  </table>

  <table id="experience">
    <colgroup>
      <col class="col-small"></col>
      <col></col>
      <col class="col-small"></col>
    </colgroup>

    <thead>
      <tr><th colspan="3">Experience</th></tr>
    </thead>

    {% for job in (resume.experience sort:'start' reverse) %}
      <tbody>
        <tr>
          <th rowspan="2">
            <a {% if job.website %}href="{{ job.website }}"{% endif %}>{{ job.employer }}</a>
          </th>
          <td class="center-text">{{ job.position }}</td>
          <td class="center-text">{{ job.start | date: "%m/%Y" }} - {{ job.end | date: "%m/%Y" | default: "Present" }}</td>
        </tr>

        <tr>
          <td {% unless job.skills %}colspan="2"{% endunless %} class="center-text">
            {{ job.description }}
          </td>
          {% if job.skills %}
            <td>
              <ul>
                {% for skill in job.skills %}
                  <li class="lw-seg-12-6">{{ skill }}</li>
                {% endfor %}
              </ul>
            </td>
          {% endif %}
        </tr>
      </tbody>
    {% endfor %}
  </table>

  <table id="education">
    <colgroup>
      <col class="col-small"></col>
      <col></col>
      <col class="col-small"></col>
    </colgroup>

    <thead>
      <tr><th colspan="3">Education</th></tr>
    </thead>

    {% for school in resume.education %}
      <tbody>
        <tr>
          <th {% if school.courses %}rowspan="2"{% endif %}>
            {{ school.school }}
          </th>
          <td class="center-text">
            {{ school.qualification }} in {{ school.fields | join: ", " }}
            {% if school.gpa %}<p>GPA: {{ school.gpa }}</p>{% endif %}
          </td>
          <td class="center-text">{{ school.attendance.start | date: "%m/%Y" }} - {{ school.attendance.end | date: "%m/%Y" }}</td>
        </tr>

        {% if school.courses %}
          <tr>
            <td colspan="2">
              <h4 class="cell-heading">Courses</h4>
              <ul>
                {% for course in school.courses %}
                  <li class="lw-seg-12-6">{{ course }}</li>
                {% endfor %}
              </ul>
            </td>
          </tr>
        {% endif %}
      </tbody>
    {% endfor %}
  </table>
</div>

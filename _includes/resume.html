{% comment %}
  Each file including this resume template should set the following:
    skills
    projects
    experience
    education
{% endcomment %}

<div id="resume">
  <header>
    <h1 class="resume-name">{{ name }}</h1>
  </header>
  
  <table id="experience">
    <colgroup>
      <col class="lw-cell-12-3"></col>
      <col class="lw-cell-12-6"></col>
      <col class="lw-cell-12-3"></col>
    </colgroup>
    
    <thead>
      <tr><th colspan="3">Experience</th></tr>
    </thead>
    
    {% for job in experience limit: experience_limit %}
      <tbody>
        <tr>
          <th rowspan="2">
            <a{% if job.website %} href="{{ job.website }}"{% endif %}>{{ job.employer }}</a>
          </th>
          <td class="center-text">{{ job.position }}</td>
          <td class="center-text">{{ job.start | date: "%m/%Y" }} - {{ job.end | date: "%m/%Y" | default: "Present" }}</td>
        </tr>
        
        <tr>
          <td {% unless job.skills %}colspan="2"{% endunless %} class="center-text">
            {{ job.description }}
          </td>
          {% if job.skills %}
            <td>
              <ul class="lw-group">
                {% for skill in job.skills %}
                  {% assign parity = forloop.index | modulo: 2 %}
                  {% unless forloop.last %}
                    <li class="lw-cell-12-6">{{ skill }}</li>
                  {% else %}
                    {% if parity == 1 %}
                      <li class="lw-cell-12-12">{{ skill }}</li>
                    {% else %}
                      <li class="lw-cell-12-6">{{ skill }}</li>
                    {% endif %}
                  {% endunless %}
                {% endfor %}
              </ul>
            </td>
          {% endif %}
        </tr>
      </tbody>
    {% endfor %}
  </table>
  
  <table id="education">
    <colgroup>
      <col class="lw-cell-12-3"></col>
      <col class="lw-cell-12-1"></col>
      <col class="lw-cell-12-5"></col>
      <col class="lw-cell-12-3"></col>
    </colgroup>
    
    <thead>
      <tr><th colspan="4">Education</th></tr>
    </thead>
    
    {% for school in education %}
      <tbody>
        <tr>
          <th {% if school.courses %}rowspan="2"{% endif %}>
            {{ school.school }}
          </th>
          <td colspan="2" class="center-text">
              {{ school.qualification }} in {{ school.fields | join: ", " }}
              {% if school.gpa %}- GPA: {{ school.gpa }}{% endif %}
          </td>
          <td class="center-text">{{ school.attendance.start | date: "%m/%Y" }} - {{ school.attendance.end | date: "%m/%Y" }}</td>
        </tr>
        
        {% if school.courses %}
          <tr class="courses">
            <th>Courses</th>
            <td colspan="2">
              <ul class="lw-group">
                {% for course in school.courses limit: course_limit %}
                  <li class="lw-cell-12-6">{{ course }}</li>
                {% endfor %}
              </ul>
            </td>
          </tr>
        {% endif %}
      </tbody>
    {% endfor %}
  </table>
  
  <table id="skills">
    <colgroup>
      <col class="lw-cell-12-3"></col>
      <col class="lw-cell-12-9"></col>
    </colgroup>
    
    <thead>
      <tr><th colspan="2">Skills</th></tr>
    </thead>
    
    {% for category in skills %}
      <tbody>
        <tr>
          <th>{{ category.name }}</th>
          <td>
            <ul class="lw-group">
              {% for skill in category.content %}
                <li class="lw-cell-12-4">{{ skill }}</li>
              {% endfor %}
            </ul>
          </td>
        </tr>
      </tbody>
    {% endfor %}
  </table>
  
  <table id="projects">
    <colgroup>
      <col class="lw-cell-12-3"></col>
      <col class="lw-cell-12-6"></col>
      <col class="lw-cell-12-3"></col>
    </colgroup>
    
    <thead>
      <tr><th colspan="3">Projects</th></tr>
    </thead>
    
    {% for project in projects limit: project_limit %}
    <tbody>
      <tr>
        <th {% if project.gh_repo_name %}class="gh-project-cell"{% endif %}>
          <a href="{{ project.url | prepend: site.baseurl | prepend: site.url }}">
          {{ project.title }}</a>
          <div class="icon-row">
            {% if project.gh_repo_name %}
              <a class="icon icon--github" href="https://github.com/{{ site.github_username }}/{{ project.gh_repo_name }}">{% include svg/icon-github.svg %}</a>
            {% endif %}
          </div>
        </th>
        
        <td>{{ project.excerpt }}</td>
        
        <td>
          <ul class="lw-group">
            {% for skill in project.core_skills %}
              <li class="lw-cell-12-6">{{ skill }}</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
    </tbody>
    {% endfor %}
  </table>
</div>